"use strict";(self.webpackChunkboiler_plate=self.webpackChunkboiler_plate||[]).push([[5599],{50612:function(e,s,t){var a=t(1413),n=t(29439),r=t(77106),i=t(72791),l=t(87309),d=t(7586),o=t(80184);s.Z=function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=s.loadingImgPath,c=void 0===t?"assets/images/page/loading-page-1.svg":t,u=s.errorImgPath,x=void 0===u?"assets/images/page/error-page-1.svg":u,v=s.loadingMessage,m=void 0===v?"Loading page...please standby.":v,h=s.errorMessage,f=void 0===h?"Error Loading...rest assured we are working on it.":h,j=function(s){var t=(0,i.useState)("loading"),u=(0,n.Z)(t,2),v=u[0],h=u[1];return(0,o.jsxs)(o.Fragment,{children:["loading"===v&&(0,o.jsxs)("div",{className:"w-full flex flex-col justify-center items-center space-y-4",style:{height:"calc(100vh - 228px)",minHeight:450},children:[(0,o.jsx)("img",{src:c,alt:"loading!",width:"300"}),(0,o.jsxs)("div",{className:"text-eep-gray flex items-center space-x-3",children:[(0,o.jsx)(r.Z,{className:"text-purple-dark"}),(0,o.jsx)("span",{className:"font-mulish-semi-bold",children:m})]})]}),"error"===v&&(0,o.jsxs)("div",{className:"w-full flex flex-col justify-center items-center space-y-4",style:{height:"calc(100vh - 228px)",minHeight:450},children:[(0,o.jsx)("img",{src:x,alt:"loading!",width:"300"}),(0,o.jsx)("span",{className:"text-red-500 font-mulish-semi-bold",children:f}),(0,o.jsx)(l.Z,{type:"primary",onClick:function(){return d.m.push("/home/dashboard")},children:"Take me to Dashboard"})]}),(0,o.jsx)(e,(0,a.Z)((0,a.Z)({},s),{},{setPageState:h,pageState:v}))]})};return j}},95599:function(e,s,t){t.r(s),t.d(s,{default:function(){return C}});var a=t(29439),n=t(54270),r=t(15861),i=t(87757),l=t.n(i),d=t(72791),o=t(50612),c=t(70141),u=t(70895),x=t(87739),v=t(25671),m=t(19333),h=t(22671),f=t(80184),j=function(e){var s=e.visitingCarInfo,t=e.carNumber,a=e.showCard,n="";null!==s&&void 0!==s&&s.status&&(1===(null===s||void 0===s?void 0:s.status)?n="Car is in Operator Queue":2===(null===s||void 0===s?void 0:s.status)?n="Car is in RTA Queue":3===(null===s||void 0===s?void 0:s.status)?n="Car is in Completion Queue":7!==(null===s||void 0===s?void 0:s.status)&&8!==(null===s||void 0===s?void 0:s.status)&&9!==(null===s||void 0===s?void 0:s.status)||(n="Car is on the road"));var r="";return null!==s&&void 0!==s&&s.transfer_reason&&(null!==s&&void 0!==s&&s.transfer_reason.includes("service_")?r="Service":null!==s&&void 0!==s&&s.transfer_reason.includes("repair_")?r="Repair":null!==s&&void 0!==s&&s.transfer_reason.includes("sixty_")?r="60:40 Jama":null!==s&&void 0!==s&&s.transfer_reason.includes("leasing_")?r="Leasing Jama":null!==s&&void 0!==s&&s.transfer_reason.includes("regular_")?r="Regular Audit Jama":null!==s&&void 0!==s&&s.transfer_reason.includes("breakdown_")?r="Breakdown":null!==s&&void 0!==s&&s.transfer_reason.includes("insurance_")?r="Insurance":null!==s&&void 0!==s&&s.transfer_reason.includes("car_recovery_")&&(r="Car Recovery")),(0,f.jsx)("div",{className:"font-quicksand-regular",children:(0,f.jsx)("div",{className:"container-fluid mb-4",children:a?(0,f.jsx)(h.Z,{children:(0,f.jsx)("div",{className:"row",children:(0,f.jsx)("div",{className:"col-12",children:(0,f.jsxs)("div",{className:"row",children:[(0,f.jsxs)("div",{className:"col-6",children:[(0,f.jsx)("h6",{className:"text-[#333333] text-base font-quicksand-semi-bold m-0",children:t}),(0,f.jsx)("h6",{className:"text-[#333333] font-quicksand-semi-bold text-sm mb-0",children:null===s||void 0===s?void 0:s.name})]}),(0,f.jsx)("hr",{className:"mt-0 text-[#86A1A4]"}),(0,f.jsxs)("div",{style:{fontSize:"14px"},className:"col-12 font-quicksand-semi-bold grid grid-cols-4 my-3",children:[(0,f.jsxs)("div",{className:"text-center border-solid border-r-2 border-[#86A1A4] px-3 my-3",children:[(0,f.jsx)("p",{className:"text-[#86A1A4] mb-0",children:"Team"}),(0,f.jsxs)("p",{className:"text-[#333333] mb-1",style:{fontSize:"16px"},children:[" ",null===s||void 0===s?void 0:s.driver_manager_name]})]}),(0,f.jsxs)("div",{className:"text-center border-solid border-r-2 border-slate-400 px-3 my-3",children:[(0,f.jsx)("p",{className:"text-[#86A1A4] mb-0",children:"Driver"}),(0,f.jsxs)("p",{className:"text-[#333333] mb-1",style:{fontSize:"16px"},children:[" ",null===s||void 0===s?void 0:s.driver_name]})]}),(0,f.jsxs)("div",{className:"text-center border-solid border-r-2 border-slate-400 px-3 my-3",children:[(0,f.jsx)("p",{className:"text-[#86A1A4] mb-0",children:"Mobile"}),(0,f.jsxs)("p",{className:"text-[#333333] mb-1",style:{fontSize:"16px"},children:[" ",null===s||void 0===s?void 0:s.drive_contact_number]})]}),(0,f.jsxs)("div",{className:"text-center border-solid border-slate-400 px-3 my-3",children:[(0,f.jsx)("p",{className:"text-[#86A1A4] mb-0",children:"In Time"}),(0,f.jsxs)("p",{className:"text-[#333333] mb-1",style:{fontSize:"16px"},children:[" ",null===s||void 0===s?void 0:s.in_time]})]}),(0,f.jsxs)("div",{className:"text-center border-solid border-r-2 border-[#86A1A4] px-3 my-3",children:[(0,f.jsx)("p",{className:"text-[#86A1A4] mb-0",children:"Gate Keeper"}),(0,f.jsxs)("p",{className:"text-[#333333] mb-1",style:{fontSize:"16px"},children:[" ",null===s||void 0===s?void 0:s.gate_keeper]})]}),(0,f.jsxs)("div",{className:"text-center border-solid border-r-2 border-[#86A1A4] px-3 my-3",children:[(0,f.jsx)("p",{className:"text-[#86A1A4] mb-0",children:"Auditor Name"}),(0,f.jsxs)("p",{className:"text-[#333333] mb-1",style:{fontSize:"16px"},children:[" ",null===s||void 0===s?void 0:s.auditor]})]}),(0,f.jsxs)("div",{className:"text-center border-solid border-r-2 border-slate-400 px-3 my-3",children:[(0,f.jsx)("p",{className:"text-[#86A1A4] mb-0",children:"Auditor Role"}),(0,f.jsxs)("p",{className:"text-[#333333] mb-1",style:{fontSize:"16px"},children:[" ",null===s||void 0===s?void 0:s.auditor_role]})]}),(0,f.jsxs)("div",{className:"text-center border-solid border-slate-400 px-3 my-3",children:[(0,f.jsx)("p",{className:"text-[#86A1A4] mb-0",children:"Status"}),(0,f.jsxs)("p",{className:"text-[#333333] mb-1",style:{fontSize:"16px"},children:[" ",n]})]}),(0,f.jsxs)("div",{className:"text-center border-solid border-[#86A1A4] px-3 my-3",children:[(0,f.jsx)("p",{className:"text-[#86A1A4] mb-0",children:"Transfer From"}),(0,f.jsxs)("p",{className:"text-[#333333] mb-1",style:{fontSize:"16px"},children:[" ",r]})]})]})]})})})}):""})})},p=function(e){var s=e.carList,t=e.carCount,n=e.headers,r=v.Z.Header,i=v.Z.Content,l=v.Z.Sider,o=(0,x.L)(),c=o.selectedCar,u=o.setSelectedCar,h=o.showCard,p=o.setShowCard,g=(0,d.useState)([]),b=(0,a.Z)(g,2),N=b[0],y=b[1],C=(0,d.useState)(""),A=(0,a.Z)(C,2),S=A[0],_=A[1],k=function(e,s){_(null===e||void 0===e?void 0:e.car_number),y(e),u({selectedCarValue:s.toString()}),p({cardValue:!0})};return(0,d.useEffect)((function(){k(s[0],0)}),[s]),(0,f.jsx)("div",{className:"font-quicksand-bold text-lg",children:(0,f.jsxs)(v.Z,{children:[(0,f.jsxs)(l,{breakpoint:"lg",collapsedWidth:"0",children:[(0,f.jsx)("div",{className:"logo"}),(0,f.jsxs)(m.Z,{style:{color:"#86A1A4",fontWeight:"regular"},theme:"light",selectedKeys:[c.selectedCarValue],children:[(0,f.jsx)("div",{className:"px-3 pt-3 pb-2.5",children:(0,f.jsxs)("h3",{className:"font-quicksand-bold text-sm",children:[n," ","Car List"]})}),s.map((function(e,s){return(0,f.jsx)(m.Z.Item,{onClick:function(){return k(e,s)},children:null===e||void 0===e?void 0:e.car_number},s.toString())}))]})]}),(0,f.jsxs)(v.Z,{children:[(0,f.jsxs)(r,{className:"site-layout-sub-header-background font-bold text-[#333333] text-sm",style:{paddingLeft:"10px"},children:[n,(0,f.jsxs)("span",{className:"text-[#37BDC8]",children:[" ","(",t,")"]})]}),(0,f.jsx)(i,{className:"ml-0",children:(0,f.jsx)("div",{className:"site-layout-background",children:0===s.length?(0,f.jsx)("div",{className:"px-2 py-0 my-6 mt-10 max-w-sm",children:(0,f.jsx)("p",{className:"font-quicksand-semi-bold text-4xl text-red-500 text-center",children:"No cars in list"})}):(0,f.jsx)(j,{visitingCarInfo:N,carNumber:S,showCard:h})})})]})]})})},g=c.Z.TabPane,b=new Promise((function(e){setTimeout((function(){return e()}),1e3)})),N=(0,o.Z)((function(e){var s=e.pageState,t=e.setPageState,n=e.auditCount,i=void 0===n?{}:n,o=(0,x.L)().currentCity,v=(0,d.useState)("0"),m=(0,a.Z)(v,2),h=m[0],j=m[1],N=(0,d.useState)(1),y=(0,a.Z)(N,2),C=y[0],A=y[1],S=(0,d.useState)([]),_=(0,a.Z)(S,2),k=_[0],w=_[1],Z=function(){var e=(0,r.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,b;case 3:t("loaded"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t("error");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();(0,d.useEffect)((function(){Z()}),[]),(0,d.useEffect)((function(){"0"===h?A(1):"1"===h?A(2):"2"===h?A(3):"3"===h?A(4):"4"===h?A(5):"5"===h?A(6):"6"===h?A(7):"7"===h?A(8):"8"===h&&A(9)}),[h]),(0,d.useEffect)((function(){9===C?(0,u.$y)(o).then((function(e){var s,t=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.results;console.log(t),w(t)})).catch((function(e){console.log(e)})):6===C||7===C||8===C?(0,u.tu)(C,o).then((function(e){var s,t=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.results;w(t)})).catch((function(e){console.log(e)})):(0,u.wR)(C,o).then((function(e){var s,t=null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.results;w(t)})).catch((function(e){console.log(e)}))}),[C,o]);return"loading"===s||"error"===s?null:(0,f.jsx)("div",{className:"font-quicksand-bold text-lg",children:(0,f.jsxs)(c.Z,{activeKey:h,onChange:function(e){j(e)},children:[(0,f.jsx)(g,{tab:"60:40 Jama (".concat(null===i||void 0===i?void 0:i.Jama,")"),children:(0,f.jsx)(p,{carList:k,category:1,carCount:null===i||void 0===i?void 0:i.Jama,headers:"60:40 Jama"})},"0"),(0,f.jsx)(g,{tab:"Leasing (".concat(null===i||void 0===i?void 0:i.Leasing_Jama,")"),children:(0,f.jsx)(p,{carList:k,category:2,carCount:null===i||void 0===i?void 0:i.Leasing_Jama,headers:"Leasing"})},"1"),(0,f.jsx)(g,{tab:"Regular Audit (".concat(null===i||void 0===i?void 0:i.Regular_Audit,")"),children:(0,f.jsx)(p,{carList:k,category:3,carCount:null===i||void 0===i?void 0:i.Regular_Audit,headers:"Regular Audit"})},"2"),(0,f.jsx)(g,{tab:"Servicing (".concat(null===i||void 0===i?void 0:i.Servicing,")"),children:(0,f.jsx)(p,{carList:k,category:4,carCount:null===i||void 0===i?void 0:i.Servicing,headers:"Servicing"})},"3"),(0,f.jsx)(g,{tab:"Repair (".concat(null===i||void 0===i?void 0:i.Repair,")"),children:(0,f.jsx)(p,{carList:k,category:5,carCount:null===i||void 0===i?void 0:i.Repair,headers:"Repair"})},"4"),(0,f.jsx)(g,{tab:"Breakdown (".concat((null===i||void 0===i?void 0:i.Breakdown)||0,")"),children:(0,f.jsx)(p,{carList:k,category:6,carCount:null===i||void 0===i?void 0:i.Breakdown,headers:"Breakdown"})},"5"),(0,f.jsx)(g,{tab:"Insurance (".concat((null===i||void 0===i?void 0:i.Insurance)||0,")"),children:(0,f.jsx)(p,{carList:k,category:7,carCount:null===i||void 0===i?void 0:i.Insurance,headers:"Insurance"})},"6"),(0,f.jsx)(g,{tab:"Car Recovery (".concat((null===i||void 0===i?void 0:i.Car_Recovery)||0,")"),children:(0,f.jsx)(p,{carList:k,category:8,carCount:null===i||void 0===i?void 0:i.Car_Recovery,headers:"Car Recovery"})},"7"),(0,f.jsx)(g,{tab:"RTA (".concat(null===i||void 0===i?void 0:i.RTA,")"),children:(0,f.jsx)(p,{carList:k,category:9,carCount:null===i||void 0===i?void 0:i.RTA,headers:"RTA"})},"8")]})})})),y=t(20098),C=function(){var e=(0,d.useState)(0),s=(0,a.Z)(e,2),t=s[0],r=s[1],i=(0,d.useState)([]),l=(0,a.Z)(i,2),o=l[0],c=l[1],v=(0,x.L)(),m=v.setSelectedCar,h=v.setShowCard,j=v.currentCity,p=v.setCurrentCity;(0,d.useEffect)((function(){(0,u.nB)().then((function(e){var s,t,a;p(null===e||void 0===e||null===(s=e.data)||void 0===s||null===(t=s.results[0])||void 0===t?void 0:t.id),c(null===e||void 0===e||null===(a=e.data)||void 0===a?void 0:a.results)})).catch((function(e){console.log(e)}))}),[]),(0,d.useEffect)((function(){(0,u.vc)(j).then((function(e){var s,t;console.log(null===e||void 0===e||null===(s=e.data)||void 0===s?void 0:s.results),r(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.results[0]),m({selectedCarValue:"0"}),h({cardValue:!0})})).catch((function(e){console.log(e)}))}),[j]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(n.q,{title:"Dashboard"}),(0,f.jsxs)("div",{className:"container flex flex-col mb-4",children:[(0,f.jsxs)("div",{className:"row mt-5 mb-0 pl-2 pr-10",children:[(0,f.jsx)("div",{className:"col-12",children:(0,f.jsx)(y.Z,{placeholder:"Select City",defaultValue:1,style:{width:"120"},onChange:function(e){!function(e){p(e)}(e)},children:o.map((function(e){return(0,f.jsx)(y.Z.Option,{value:e.id,children:e.name},e.id)}))})}),(0,f.jsx)("div",{className:"col-6",children:(0,f.jsx)("h3",{className:"font-bold font-quicksand-medium text-[#333333] text-2xl pl-0",children:"Audit Queues"})}),(0,f.jsx)("div",{className:"col-6 d-flex flex-row justify-content-end text-end",children:(0,f.jsxs)("div",{children:[(0,f.jsx)("p",{className:"text-[#86A1A4] font-quicksand-medium text-xs m-0",children:"Total Cars"}),(0,f.jsx)("p",{className:"text-[#013453] font-quicksand-semi-bold text-lg m-0",children:(null===t||void 0===t?void 0:t.Total)||0})]})})]}),(0,f.jsx)(N,{auditCount:t})]})]})}}}]);
//# sourceMappingURL=5599.ad96324a.chunk.js.map