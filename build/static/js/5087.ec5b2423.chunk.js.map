{"version":3,"file":"static/js/5087.ec5b2423.chunk.js","mappings":"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","sources":["pages/completion/carsQueue.js"],"sourcesContent":["/* eslint-disable max-len */\n/* eslint-disable global-require */\n/* eslint-disable no-unused-vars */\nimport { Helmet } from 'react-helmet';\nimport { Input } from 'antd';\nimport { LoadingOutlined } from '@ant-design/icons';\nimport { useState, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { getQueueCarsList, getQueueOperator } from 'services/axios';\nimport { useCompletionContext } from 'context/CompletionContext';\nimport moment from 'moment';\n\nconst carsQueue = () => {\n  const {\n    operator,\n    setOperator,\n    setCardObject,\n    ResetContextValues,\n  } = useCompletionContext();\n  const history = useHistory();\n  const { id } = useParams();\n  const [CarsList, setCarsList] = useState([]);\n  // const [operator, setOperator] = useState(0);\n  const [searchValue, setSearchValue] = useState('');\n  const [searchLoading, setSearchLoading] = useState(false);\n  const globalSearch = (value) => {\n    setSearchLoading(true);\n    setSearchValue(value);\n    setTimeout(() => setSearchLoading(false), 1500);\n  };\n\n  const tempGarageID = localStorage.getItem('garageid');\n  const tempLocationID = localStorage.getItem('locationid');\n  // const tempOperator = localStorage.getItem('role');\n  useEffect(() => {\n    setOperator(id);\n  }, []);\n  useEffect(() => {\n    if (operator === '6' || operator === '7' || operator === '8') {\n      getQueueOperator(operator, 3)\n        .then((resp) => {\n          setCarsList(resp.data?.results.pageData);\n        })\n        .catch((err) => {\n          console.log('err', err);\n        });\n    } else {\n      getQueueCarsList(tempGarageID, operator, 3, tempLocationID)\n        .then((resp) => {\n          setCarsList(resp.data?.results.pageData);\n        })\n        .catch((err) => {\n          console.log('err', err);\n        });\n    }\n  }, [operator]);\n  return (\n    <>\n      <Helmet title=\"Dashboard\" />\n      <div className=\"flex flex-col space-y-2 mx-3\">\n        <div className=\"space-y-2 ml-3\">\n          <span className=\"font-quicksand-semi-bold text-xl\">\n            Completion Queue\n          </span>\n        </div>\n        <div className=\"bg-white m-1 mt-4\">\n          <div className=\"flex flex-nonwrap bg-white\">\n            <Input\n              size=\"medium\"\n              placeholder=\"Search Car Number\"\n              prefix={(\n                <img\n                  className=\"mr-3\"\n                  src=\"/assets/images/general/loupe.svg\"\n                  alt=\"search\"\n                  width=\"10\"\n                />\n              )}\n              style={{\n                padding: '8px', backgroundColor: '#fff', borderColor: '#013453', width: '150%',\n              }}\n              suffix={searchLoading && <LoadingOutlined />}\n              onChange={({ target: { value } }) => globalSearch(value)}\n            />\n          </div>\n        </div>\n        <div>\n          {CarsList.length !== 0 ? (CarsList.filter((el) => el.car_number.toLowerCase().includes(searchValue.toLowerCase())).map((item) => (\n            <div\n              className=\"px-2 py-0 my-3 max-w-sm bg-white rounded-lg border shadow-md sm:p-6\"\n              onClick={() => {\n                ResetContextValues();\n                setCardObject({ ...item });\n                history.push('/completion/CarsQueueDetails');\n              }}\n            >\n              <div\n                className=\" my-2 flex items-center p-3 text-base font-bold text-gray-900 rounded-lg\"\n                style={{ backgroundColor: '#f4fcfc' }}\n              >\n                <span className=\"flex-1 ml-3 font-quicksand-bold text-xl whitespace-nowrap\">{item.car_number}</span>\n                <span className=\" font-quicksand-semi-bold px-2 py-0.5 ml-3 text-xs text-gray-500 truncate\">{item.carId?.model?.name}</span>\n              </div>\n              <div\n                className=\" my-2 flex items-center p-3 text-base font-bold text-gray-900 rounded-lg\"\n                style={{ backgroundColor: '#f4fcfc' }}\n              >\n                <div className=\"flex-1 min-w-0\">\n                  <p className=\"text-sm font-quicksand-medium text-gray-900 truncate mb-1\">\n                    Team:\n                    {' '}\n                    <p className=\"inline-flex text-sm font-quicksand-medium text-teal-300 truncate mb-1\">\n                      {item.driver_manager_name}\n                    </p>\n                  </p>\n                  <p className=\"text-sm font-quicksand-medium text-gray-900 truncate my-1\">\n                    Driver:\n                    {' '}\n                    <p className=\"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1\">\n                      {item.driver_name}\n                    </p>\n                  </p>\n                  <p className=\"text-sm font-quicksand-medium text-gray-900 truncate my-1\">\n                    Mobile:\n                    {' '}\n                    <p className=\"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1\">\n                      {item.drive_contact_number}\n                    </p>\n                  </p>\n                  <p className=\"text-sm font-bold font-quicksand-medium text-gray-900 truncate mt-1 mb-0\">\n                    In-Time:\n                    {' '}\n                    <p className=\"inline-flex text-sm font-quicksand-medium text-teal-300 truncate mt-1 mb-0\">\n                      {moment(\n                        item.createdAt,\n                      ).format('DD-MM-YYYY, h:mm:ss a')}\n                    </p>\n                  </p>\n                </div>\n              </div>\n            </div>\n          )))\n            : (\n              <div className=\"px-2 py-0 my-6 mt-48 max-w-sm sm:p-6\">\n                <p className=\"font-quicksand-semi-bold text-4xl text-red-500 text-center\">No cars in queue</p>\n              </div>\n            )}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default carsQueue;\n"],"names":["useCompletionContext","operator","setOperator","setCardObject","ResetContextValues","history","useHistory","id","useParams","useState","CarsList","setCarsList","searchValue","setSearchValue","searchLoading","setSearchLoading","tempGarageID","localStorage","getItem","tempLocationID","useEffect","getQueueOperator","then","resp","data","results","pageData","catch","err","console","log","getQueueCarsList","title","className","size","placeholder","prefix","src","alt","width","style","padding","backgroundColor","borderColor","suffix","onChange","value","setTimeout","globalSearch","target","length","filter","el","car_number","toLowerCase","includes","map","item","onClick","push","carId","model","name","driver_manager_name","driver_name","drive_contact_number","moment","createdAt","format"],"sourceRoot":""}