"use strict";(self.webpackChunkboiler_plate=self.webpackChunkboiler_plate||[]).push([[4034],{94034:function(e,r,t){t.r(r);var a=t(29439),n=t(54270),s=t(20135),u=t(13085),l=t(87309),i=t(72791),o=t(70895),c=t(79271),d=t(27939),m=t(72426),f=t.n(m),y=t(80184),p=s.Z.TextArea;r.default=function(){(0,c.TH)();var e,r,t=(0,i.useState)(""),s=(0,a.Z)(t,2),m=s[0],b=s[1],V=(0,i.useState)(""),x=(0,a.Z)(V,2),_=(x[0],x[1],(0,i.useState)("")),k=(0,a.Z)(_,2),h=k[0],g=k[1],S=(0,c.k6)(),R=(0,d.b)(),N=R.selectedCarID,O=(R.selectedCar,R.visitId,R.carReturnReason,R.fRTyreBrand),B=R.fRWornOut,L=R.fRPressure,T=R.fRTyreNumber,v=R.rRTyreBrand,P=R.rRWornOut,W=R.rRPressure,j=R.rRTyreNumber,C=R.fLTyreBrand,w=R.fLWornOut,F=R.fLPressure,I=R.fLTyreNumber,D=R.rLTyreBrand,q=R.rLWornOut,M=R.rLPressure,Y=R.rLTyreNumber,A=R.stepnyPresent,K=R.stepnyBrand,Z=R.stepnyTyreNumber,z=R.carKms,H=(R.currentCarKms,R.fasttagBalance,R.fuelIndicatorPetrolBar),E=R.cng,J=(R.numberPlateStickerStat,R.jackStat),X=R.panaStat,$=R.tommyStat,G=R.engineoil,Q=R.brakeoil,U=R.coolant,ee=R.batteryCharge,re=R.horn,te=R.setselectedCarID,ae=R.setdriverReportedIssue,ne=R.setCarReturnReason,se=R.setBatteryName,ue=R.setBatteryBrand,le=R.setfRTyreBrand,ie=R.setfRWornOut,oe=R.setfRPressure,ce=R.setfRTyreNumber,de=R.setrRTyreBrand,me=R.setrRWornOut,fe=R.setrRPressure,ye=R.setrRTyreNumber,pe=R.setfLTyreBrand,be=R.setfLWornOut,Ve=R.setfLPressure,xe=R.setfLTyreNumber,_e=R.setrLTyreBrand,ke=R.setrLWornOut,he=R.setrLPressure,ge=R.setrLTyreNumber,Se=R.setStepnyPresent,Re=R.setStepnyBrand,Ne=R.setStepnyTyreNumber,Oe=R.setCarKms,Be=R.setcurrentCarKms,Le=R.setfasttagBalance,Te=R.setfuelIndicatorPetrolBar,ve=R.setCng,Pe=R.setnumberPlateStickerStat,We=R.setJackStat,je=R.setPanaStat,Ce=R.setTommyStat,we=R.setEngineOil,Fe=R.setBrakeOil,Ie=R.setCoolant,De=R.setBatteryCharge,qe=R.setHorn,Me=R.batteryBrand,Ye=R.batteryName,Ae=R.driverReportedIssue,Ke=R.frontMainSticker,Ze=R.setFrontMainSticker,ze=R.backMainSticker,He=R.setBackMainSticker,Ee=R.backRightSticker,Je=R.setBackRightSticker,Xe=R.backLeftSticker,$e=R.setBackLeftSticker,Ge=R.stepnyWornOut,Qe=R.setStepnyWornOut,Ue=R.stepnyPressure,er=R.setStepnyPressure,rr=(R.driverName,R.cardObject);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(n.q,{title:"Dashboard"}),(0,y.jsxs)("div",{className:"flex flex-col space-y-2 mx-3",children:[(0,y.jsxs)("div",{className:"px-2 py-0 mb-3 mx-1 max-w-sm bg-white rounded-lg border shadow-md sm:p-6",children:[(0,y.jsxs)("div",{className:" my-2 flex items-center p-2 text-base font-bold text-gray-900 rounded-lg",style:{backgroundColor:"#f4fcfc"},children:[(0,y.jsx)("span",{className:"flex-1 ml-3 font-quicksand-bold text-xl whitespace-nowrap",children:rr.car_number}),(0,y.jsx)("span",{className:" font-quicksand-semi-bold px-2 py-0.5 ml-3 text-xs text-gray-500 truncate",children:null===(e=rr.carId)||void 0===e||null===(r=e.model)||void 0===r?void 0:r.name})]}),(0,y.jsx)("div",{className:" my-2 flex items-center p-2 text-base font-bold text-gray-900 rounded-lg",style:{backgroundColor:"#f4fcfc"},children:(0,y.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,y.jsxs)("p",{className:"text-sm font-quicksand-medium text-gray-900 truncate mb-1",children:["Team:"," ",(0,y.jsx)("p",{className:"inline-flex text-sm font-quicksand-medium text-teal-300 truncate mb-1",children:rr.driver_manager_name})]}),(0,y.jsxs)("p",{className:"text-sm font-quicksand-medium text-gray-900 truncate my-1",children:["Driver:"," ",(0,y.jsx)("p",{className:"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1",children:rr.driver_name})]}),(0,y.jsxs)("p",{className:"text-sm font-quicksand-medium text-gray-900 truncate my-1",children:["Mobile:"," ",(0,y.jsx)("p",{className:"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1",children:rr.drive_contact_number})]}),(0,y.jsxs)("p",{className:"text-sm font-bold font-quicksand-medium text-gray-900 truncate mt-1 mb-0",children:["In-Time:"," ",(0,y.jsx)("p",{className:"inline-flex text-sm font-quicksand-medium text-teal-300 truncate mt-1 mb-0",children:f()(rr.createdAt).format("DD-MM-YYYY, h:mm:ss a")})]})]})})]}),(0,y.jsxs)("div",{className:"bg-white p-4 mx-2",children:[(0,y.jsx)("p",{className:"font-quicksand-bold text-5xl",style:{fontSize:"12px"},children:"Add Comments (Optional)"}),(0,y.jsx)("div",{className:"flex flex-nonwrap bg-white",children:(0,y.jsx)(p,{rows:4,placeholder:"Enter Remarks Here...",value:m,onChange:function(e){return b(e.target.value)},style:{padding:"8px",marginBottom:"8px",backgroundColor:"#fff",borderColor:"#74D1D8",width:"150%"}})}),Object.keys(h).map((function(e){return(0,y.jsx)("div",{style:{color:"red"},children:h[e]})}))]}),(0,y.jsxs)("div",{className:"col-12 flex flex-row justify-between my-3",children:[(0,y.jsx)(l.Z,{onClick:function(){return S.push("/ServiceAudit/ServiceCarInfo")},className:"font-quicksand-medium",style:{marginRight:"20px",borderRadius:"4px",fontWeight:"500",backgroundColor:"#013453",color:"#FFFFFF",fontSize:"16px",width:"100px",height:"52px",boxShadow:"0px 8px 16px #005B923D",textDecoration:"none",padding:"13px 30px"},children:"Back"}),(0,y.jsx)(l.Z,{onClick:function(e){if(e.preventDefault(),g({}),!0){var r={visit:N.selectedCarIDValue,driver_reported_issue:Ae.driverReportedIssueValue,car_return_reason:"",fastag_balance:null,penalty_amount:null,penalty_reason:null,penalty_details:null,status:1},t={};(0,o.$i)(r).then((function(e){var r=e.data.results.id;t={visit:N.selectedCarIDValue,audit:r,auditor_comment:m,battery_brand:Me.batteryBrandValue,battery_number:Ye.batteryNameValue,battery_status:"Okay"===ee.batteryChargeValue,break_oil:"Sufficient"===Q.brakeoilValue,car_km:z.carKmsValue,coolant:"Sufficient"===U.coolantValue,engine_oil:"Sufficient"===G.engineoilValue,front_left_tyre_brand:C.fLTyreBrandValue,front_left_tyre_number:I.fLTyreNumberValue,front_left_tyre_pressure:F.fLPressureValue,front_left_tyre_worn_out:"<3"===w.fLWornOutValue?3:"4"===w.fLWornOutValue?4:"5"===w.fLWornOutValue?5:"6"===w.fLWornOutValue?6:7,front_right_tyre_brand:O.fRTyreBrandValue,front_right_tyre_number:T.fRTyreNumberValue,front_right_tyre_pressure:L.fRPressureValue,front_right_tyre_worn_out:"<3"===B.fRWornOutValue?3:"4"===B.fRWornOutValue?4:"5"===B.fRWornOutValue?5:"6"===B.fRWornOutValue?6:7,fuel_indicator_petrol:H.fuelIndicatorPetrolBarValue,fuel_indicator_cng:E.cngValue,horn:"Okay"===re.hornValue,jack:"Yes"===J.jackStatValue,panna:"Yes"===X.panaStatValue,rear_left_tyre_brand:D.rLTyreBrandValue,rear_left_tyre_number:Y.rLTyreNumberValue,rear_left_tyre_pressure:M.rLPressureValue,rear_left_tyre_worn_out:"<3"===q.rLWornOutValue?3:"4"===q.rLWornOutValue?4:"5"===q.rLWornOutValue?5:"6"===q.rLWornOutValue?6:7,rear_right_tyre_brand:v.rRTyreBrandValue,rear_right_tyre_number:j.rRTyreNumberValue,rear_right_tyre_pressure:W.rRPressureValue,rear_right_tyre_worn_out:"<3"===P.rRWornOutValue?3:"4"===P.rRWornOutValue?4:"5"===P.rRWornOutValue?5:"6"===P.rRWornOutValue?6:7,stephney_available:1===A.stepnyPresentValue,stephney_tyre_worn_out:1===A.stepnyPresentValue?"<3"===Ge.stepnyWornOutValue?3:"4"===Ge.stepnyWornOutValue?4:"5"===Ge.stepnyWornOutValue?5:"6"===Ge.stepnyWornOutValue?6:7:null,stephney_tyre_pressure:1===A.stepnyPresentValue?Ue.stepnyPressureValue:null,stephney_tyre_brand:1===A.stepnyPresentValue?K.stepnyBrandValue:null,stephney_tyre_number:1===A.stepnyPresentValue?Z.stepnyTyreNumberValue:null,sticker_back_left:Xe.backLeftStickerValue,sticker_back_main:ze.backMainStickerValue,sticker_back_right:Ee.backRightStickerValue,sticker_front_main:Ke.frontMainStickerValue,tommy:"Yes"===$.tommyStatValue},(0,o.BX)(t).then((function(e){u.Z.success({message:"Audit submitted successfully."}),te({selectedCarIDValue:0}),ae({driverReportedIssueValue:""}),ne({carReturnReasonValue:"Family/Personal obligations"}),se({batteryNameValue:""}),ue({batteryBrandValue:1}),le({fRTyreBrandValue:1}),ie({fRWornOutValue:"<3"}),oe({fRPressureValue:""}),ce({fRTyreNumberValue:""}),de({rRTyreBrandValue:1}),me({rRWornOutValue:"<3"}),fe({rRPressureValue:""}),ye({rRTyreNumberValue:""}),pe({fLTyreBrandValue:1}),be({fLWornOutValue:"<3"}),Ve({fLPressureValue:""}),xe({fLTyreNumberValue:""}),_e({rLTyreBrandValue:1}),ke({rLWornOutValue:"<3"}),he({rLPressureValue:""}),ge({rLTyreNumberValue:""}),Se({stepnyPresentValue:1}),Re({stepnyBrandValue:1}),Ne({stepnyTyreNumberValue:""}),Oe({carKmsValue:0}),Be({currentCarKmsValue:""}),Le({fasttagBalanceValue:""}),Te({fuelIndicatorPetrolBarValue:"Yes"}),ve({cngValue:"Full"}),Pe({numberPlateStickerStatValue:"Front Main"}),We({jackStatValue:"Yes"}),je({panaStatValue:"Yes"}),Ce({tommyStatValue:"Yes"}),we({engineoilValue:"Sufficient"}),Fe({brakeoilValue:"Sufficient"}),Ie({coolantValue:"Sufficient"}),De({batteryChargeValue:"Okay"}),qe({hornValue:"Okay"}),Ze({frontMainStickerValue:!1}),He({backMainStickerValue:!1}),Je({backRightStickerValue:!1}),$e({backLeftStickerValue:!1}),Qe({stepnyWornOutValue:"<3"}),er({stepnyPressureValue:""}),S.push("/ServiceAudit/ServiceAuditCarList")})).catch((function(e){console.log("err",e.response)}))})).catch((function(e){console.log("err",e.response)}))}},className:"font-quicksand-medium",style:{marginRight:"20px",borderRadius:"4px",fontWeight:"500",backgroundColor:"#013453",color:"#FFFFFF",fontSize:"16px",height:"52px",boxShadow:"0px 8px 16px #005B923D",textDecoration:"none",padding:"13px 30px"},children:"Submit Audit"})]})]})]})}}}]);
//# sourceMappingURL=4034.e7527e2e.chunk.js.map