{"version":3,"file":"static/js/1918.8cf3c483.chunk.js","mappings":"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","sources":["pages/rta/leasingjama.js"],"sourcesContent":["/* eslint-disable global-require */\n/* eslint-disable no-unused-vars */\nimport { Helmet } from 'react-helmet';\nimport { Input, Button, notification } from 'antd';\nimport { useState, useEffect } from 'react';\nimport { addRTAList } from 'services/axios';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { useRTAContext } from 'context/rtaContext';\nimport moment from 'moment';\n\nconst { TextArea } = Input;\n\nconst carslistrta = () => {\n  const { id } = useParams();\n  const history = useHistory();\n  const {\n    selectedCarId,\n    selectedCarNumber,\n    selectedDriverName,\n    selectedVisitId,\n    selectedVisitCategory,\n    remarks,\n    setRemarks,\n    cardObject,\n    ResetContextValues,\n  } = useRTAContext();\n  const [GarageID, setGarageID] = useState('');\n  const [remarksError, setRemarksError] = useState({});\n  useEffect(() => {\n    const tempGarageID = localStorage.getItem('garageid');\n    setGarageID(tempGarageID);\n  }, []);\n\n  const validateFormData = (rejectFlag) => {\n    const RemarkError = {};\n    let isValid = true;\n    if (rejectFlag) {\n      if (!remarks.remarksValue) {\n        RemarkError.err = 'Please enter proper remarks.';\n        isValid = false;\n      }\n    }\n    // if (garageSeries.trim().length === 0) {\n    //   garageSeriesNameError.err = 'Garage series can not be empty';\n    //   isValid = false;\n    // }\n    // if (userSeries.trim().length === 0) {\n    //   userSeriesNameError.err = 'User series can not be empty';\n    //   isValid = false;\n    // }\n\n    setRemarksError(RemarkError);\n    return isValid;\n  };\n\n  const AddRTAListMethod = (rejectFlag) => {\n    const resp = validateFormData(rejectFlag);\n    if (!rejectFlag) {\n      if (resp) {\n        let tempvisitid = 0;\n        let isLeasing = true;\n        if (selectedVisitCategory === '1' || selectedVisitCategory === 1) {\n          tempvisitid = 1;\n          isLeasing = false;\n        } else if (selectedVisitCategory === '2' || selectedVisitCategory === 1) {\n          tempvisitid = 2;\n          isLeasing = true;\n        }\n        addRTAList(id, GarageID, isLeasing, remarks.remarksValue, 1)\n          .then((res) => {\n            notification.success({\n              message: 'Jama added successfully',\n            });\n            window.location.href = '#/rta/carlistrta';\n          })\n          .catch((err) => {\n            console.log('err', err);\n          });\n      }\n    } else if (resp) {\n      history.push(`/rta/transferjama/${id}`);\n    }\n  };\n\n  return (\n    <>\n      <Helmet title=\"Dashboard\" />\n      <div className=\"flex flex-col space-y-2 mx-3\">\n        <div className=\"px-2 py-0 mb-3 mx-1 max-w-sm bg-white rounded-lg border shadow-md sm:p-6\">\n          <div\n            className=\" my-2 flex items-center p-2 text-base font-bold text-gray-900 rounded-lg\"\n            style={{ backgroundColor: '#f4fcfc' }}\n          >\n            <span className=\"flex-1 ml-3 font-quicksand-bold text-xl whitespace-nowrap\">{cardObject.car_number}</span>\n            <span className=\" font-quicksand-semi-bold px-2 py-0.5 ml-3 text-xs text-gray-500 truncate\">{cardObject.carId?.model?.name}</span>\n          </div>\n          <div\n            className=\" my-2 flex items-center p-2 text-base font-bold text-gray-900 rounded-lg\"\n            style={{ backgroundColor: '#f4fcfc' }}\n          >\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-quicksand-medium text-gray-900 truncate my-1\">\n                Team:\n                {' '}\n                <p className=\"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1\">\n                  {cardObject.driver_manager_name}\n                </p>\n              </p>\n              <p className=\"text-sm font-quicksand-medium text-gray-900 truncate my-1\">\n                Driver:\n                {' '}\n                <p className=\"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1\">\n                  {cardObject.driver_name}\n                </p>\n              </p>\n              <p className=\"text-sm font-quicksand-medium text-gray-900 truncate my-1\">\n                Mobile:\n                {' '}\n                <p className=\"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1\">\n                  {cardObject.drive_contact_number}\n                </p>\n              </p>\n              <p className=\"text-sm font-quicksand-medium text-gray-900 truncate my-1\">\n                In-Time:\n                {' '}\n                <p className=\"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1\">\n                  {moment(\n                    cardObject.createdAt,\n                  ).format('DD-MM-YYYY, h:mm:ss a')}\n                </p>\n              </p>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white p-4 mx-2\">\n          <p className=\"font-quicksand-bold text-5xl\" style={{ fontSize: '12px' }}>Remarks</p>\n          <div className=\"flex flex-nonwrap bg-white\">\n            <TextArea\n              rows={4}\n              placeholder=\"Enter Remarks Here...\"\n              value={remarks.remarksValue}\n              onChange={(e) => setRemarks({ remarksValue: e.target.value })}\n              style={{\n                padding: '8px', marginBottom: '8px', backgroundColor: '#fff', borderColor: '#74D1D8', width: '150%',\n              }}\n            />\n\n          </div>\n          {Object.keys(remarksError).map((key) => (\n            <div style={{ color: 'red' }}>\n              {remarksError[key]}\n            </div>\n          ))}\n        </div>\n        <div className=\"col-12 flex flex-row justify-between my-3\">\n          <Button\n            onClick={() => {\n              ResetContextValues();\n              history.push('/rta/carlistrta');\n            }}\n            className=\"font-quicksand-medium\"\n            style={{\n              marginRight: '20px', borderRadius: '4px', fontWeight: '500', backgroundColor: '#013453', color: '#FFFFFF', fontSize: '16px', width: '100px', height: '52px', boxShadow: '0px 8px 16px #005B923D', textDecoration: 'none', padding: '13px 30px',\n            }}\n          >\n            Back\n          </Button>\n          <Button\n            onClick={() => AddRTAListMethod(false)}\n            className=\"font-quicksand-medium\"\n            style={{\n              marginRight: '20px', borderRadius: '4px', fontWeight: '500', backgroundColor: '#74d1d8', color: '#FFFFFF', fontSize: '16px', height: '52px', boxShadow: '0px 8px 16px #005B923D', textDecoration: 'none', padding: '13px 25px',\n            }}\n          >\n            Accept\n          </Button>\n          <Button\n            onClick={() => {\n              AddRTAListMethod(true);\n            }}\n            className=\"font-quicksand-medium\"\n            style={{\n              marginRight: '20px', borderRadius: '4px', fontWeight: '500', backgroundColor: '#dc2626', color: '#FFFFFF', fontSize: '16px', height: '52px', boxShadow: '0px 8px 16px #005B923D', textDecoration: 'none', padding: '13px 25px',\n            }}\n          >\n            Reject\n          </Button>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default carslistrta;\n"],"names":["TextArea","Input","id","useParams","history","useHistory","useRTAContext","selectedVisitCategory","selectedCarId","selectedCarNumber","selectedDriverName","selectedVisitId","remarks","setRemarks","cardObject","ResetContextValues","useState","GarageID","setGarageID","remarksError","setRemarksError","useEffect","tempGarageID","localStorage","getItem","AddRTAListMethod","rejectFlag","resp","RemarkError","isValid","remarksValue","err","validateFormData","push","isLeasing","addRTAList","then","res","notification","message","window","location","href","catch","console","log","title","className","style","backgroundColor","car_number","carId","model","name","driver_manager_name","driver_name","drive_contact_number","moment","createdAt","format","fontSize","rows","placeholder","value","onChange","e","target","padding","marginBottom","borderColor","width","Object","keys","map","key","color","onClick","marginRight","borderRadius","fontWeight","height","boxShadow","textDecoration"],"sourceRoot":""}