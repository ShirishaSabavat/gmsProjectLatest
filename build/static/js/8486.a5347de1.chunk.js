"use strict";(self.webpackChunkboiler_plate=self.webpackChunkboiler_plate||[]).push([[8486],{28486:function(e,n,t){t.r(n);var r=t(29439),a=t(72791),o=t(54270),l=t(20135),i=t(13085),s=t(20098),c=t(73231),d=t(87309),u=t(70895),f=t(80184),v=l.Z.TextArea;n.default=function(){var e=(0,a.useState)(!0),n=(0,r.Z)(e,2),t=n[0],p=n[1],h=(0,a.useState)([]),m=(0,r.Z)(h,2),x=m[0],y=m[1],g=(0,a.useState)(""),b=(0,r.Z)(g,2),C=b[0],j=b[1],Z=(0,a.useState)(""),k=(0,r.Z)(Z,2),w=k[0],S=k[1],N=(0,a.useState)(""),_=(0,r.Z)(N,2),F=_[0],O=_[1],P=(0,a.useState)(""),E=(0,r.Z)(P,2),D=E[0],I=E[1],q=(0,a.useState)(""),R=(0,r.Z)(q,2),A=R[0],B=R[1],K=(0,a.useState)(""),L=(0,r.Z)(K,2),M=L[0],T=L[1],z=(0,a.useState)(""),U=(0,r.Z)(z,2),V=U[0],G=U[1],J=(0,a.useState)(0),H=(0,r.Z)(J,2),Q=H[0],W=H[1],Y=(0,a.useState)(""),$=(0,r.Z)(Y,2),X=$[0],ee=$[1],ne=(0,a.useState)(0),te=(0,r.Z)(ne,2),re=te[0],ae=te[1],oe=(0,a.useState)(""),le=(0,r.Z)(oe,2),ie=le[0],se=le[1],ce=(0,a.useState)(""),de=(0,r.Z)(ce,2),ue=de[0],fe=de[1],ve=(0,a.useState)([]),pe=(0,r.Z)(ve,2),he=pe[0],me=pe[1],xe=(0,a.useState)(-1),ye=(0,r.Z)(xe,2),ge=ye[0],be=ye[1],Ce=(0,a.useState)("Pilot Escaped"),je=(0,r.Z)(Ce,2),Ze=je[0],ke=je[1],we=(0,a.useState)(localStorage.getItem("cityid")),Se=(0,r.Z)(we,1)[0],Ne=(0,a.useState)(""),_e=(0,r.Z)(Ne,2),Fe=_e[0],Oe=_e[1],Pe=(0,a.useState)([]),Ee=(0,r.Z)(Pe,2),De=Ee[0],Ie=Ee[1],qe=function(){p(!0),j(""),S(""),O(""),W(0),ee(""),ae(0),se(0),fe(""),ke("Pilot Escaped")};(0,a.useEffect)((function(){(0,u._H)(Se).then((function(e){y(null===e||void 0===e?void 0:e.data)})).catch((function(e){console.log("err",e)}))}),[]),(0,a.useEffect)((function(){(0,u.Jb)(Se).then((function(e){me(null===e||void 0===e?void 0:e.data)})).catch((function(e){console.log("err",e)}))}),[]);var Re=function(e){var n;qe(),n=e,(0,u.KR)(n).then((function(e){var n,t,r,a,o;(null===e||void 0===e?void 0:e.data.length)>0?null!==(null===e||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.team)?(O(null===e||void 0===e||null===(t=e.data[0])||void 0===t||null===(r=t.team)||void 0===r?void 0:r.name),se(null===e||void 0===e||null===(a=e.data[0])||void 0===a||null===(o=a.team)||void 0===o?void 0:o.id)):i.Z.error({message:"No Team Allocated"}):(j(""),S(""),O(""),ae(0),se(""))})).catch((function(e){console.log("err",e)})),(0,u.kI)(e).then((function(n){W(e);var t=x.filter((function(n){return n.id===e}));if(ee(t[0].name),2===n.data.car_status);else if(0===n.data.car_status)(0,u.J2)(e).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.results[0];t&&(be(null===t||void 0===t?void 0:t.id),ee(null===t||void 0===t?void 0:t.car_number),p(null===t||void 0===t?void 0:t.is_with_driver),j(null===t||void 0===t?void 0:t.driver_name),S(null===t||void 0===t?void 0:t.drive_contact_number),se(null===t||void 0===t?void 0:t.driverManagerId),O(null===t||void 0===t?void 0:t.driver_manager_name),W(null===t||void 0===t?void 0:t.carId_id),fe(null===t||void 0===t?void 0:t.employee_id),Oe(null===t||void 0===t?void 0:t.breakdown_recovery_location),ke(null===t||void 0===t?void 0:t.recovery_reason))})).catch((function(e){console.log("err1",e)}));else{var r="";1===n.data.visit_category?r="Car Jama":2===n.data.visit_category?r="Leasing Jama":3===n.data.visit_category?r="Regular Audit":4===n.data.visit_category?r="Serciving":5===n.data.visit_category?r="Repair":6===n.data.visit_category?r="Breakdown":7===n.data.visit_category?r="Insurance":8===n.data.visit_category&&(r="Car Recovery"),i.Z.error({message:"Car is already in the ".concat(r," Queue")})}})).catch((function(e){console.log("err",e)}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(o.q,{title:"Car Recovery"}),(0,f.jsxs)("div",{className:"flex flex-col space-y-2 mx-4",children:[(0,f.jsx)("div",{className:"space-y-2 basic-1/2",children:(0,f.jsx)("span",{className:"font-quicksand-semi-bold text-xl mr-3.5",children:"Car Recovery"})}),(0,f.jsxs)("div",{className:"bg-white p-4",children:[(0,f.jsx)("p",{className:"font-quicksand-bold text-sm",children:"Car Details"}),(0,f.jsxs)("p",{className:"font-quicksand-semi-bold",style:{fontSize:"12px"},children:["Car Number"," ",(0,f.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,f.jsx)(s.Z,{onChange:function(e){Re(e)},style:{width:"100%",backgroundColor:"#F5F8FC"},placeholder:"Search Car",showSearch:!0,optionFilterProp:"children",filterOption:function(e,n){return n.children.toString().toLowerCase().indexOf(e.toLowerCase())>=0},children:x.map((function(e){return(0,f.jsx)(s.Z.Option,{value:e.id,children:e.name},e.id)}))}),Object.keys(V).map((function(e){return(0,f.jsx)("div",{style:{color:"red"},children:V[e]})})),(0,f.jsxs)("div",{className:"bg-white py-5",children:[(0,f.jsx)("p",{className:"font-quicksand-semi-bold",style:{fontSize:"12px"},children:"Is Car with Driver?"}),(0,f.jsx)("div",{className:"flex flex-row flex-nonwrap bg-white",children:(0,f.jsxs)(c.ZP.Group,{onChange:function(e){return p(e.target.value)},value:t,children:[(0,f.jsx)(c.ZP,{style:{color:"#9193A2"},className:"font-quicksand-semi-bold",value:!0,children:"Yes"}),(0,f.jsx)(c.ZP,{style:{color:"#9193A2"},className:"font-quicksand-semi-bold",value:!1,children:"New Car"})]})})]}),!0===t?(0,f.jsxs)("div",{children:[(0,f.jsxs)("p",{className:"font-quicksand-semi-bold",style:{fontSize:"12px"},children:["ETM Id"," ",(0,f.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,f.jsx)(s.Z,{onChange:function(e){!function(e){var n=he.filter((function(n){return n.id===e}));fe(n[0].employee_id),j(n[0].name)}(e)},style:{width:"100%",backgroundColor:"#F5F8FC",marginBottom:"8px"},placeholder:"Search Employee",value:ue||void 0,showSearch:!0,optionFilterProp:"children",filterOption:function(e,n){return n.children.toString().toLowerCase().indexOf(e.toLowerCase())>=0},children:he.map((function(e){return(0,f.jsx)(s.Z.Option,{value:e.id,children:e.employee_id},e.id)}))}),(0,f.jsxs)("p",{className:"font-quicksand-semi-bold",style:{fontSize:"12px"},children:["Driver Name"," ",(0,f.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,f.jsxs)("div",{className:"flex flex-nonwrap bg-white",children:[(0,f.jsx)(l.Z,{value:C,onChange:function(e){return j(e.target.value)},readOnly:!0,style:{padding:"8px",marginBottom:"8px",backgroundColor:"#F5F8FC",borderColor:"#F5F8FC",width:"150%"}}),Object.keys(D).map((function(e){return(0,f.jsx)("div",{style:{color:"red"},children:D[e]})}))]}),(0,f.jsxs)("p",{className:"font-quicksand-semi-bold",style:{fontSize:"12px"},children:["Contact Number"," ",(0,f.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,f.jsxs)("div",{className:"flex flex-nonwrap bg-white",children:[(0,f.jsx)(l.Z,{value:w,onChange:function(e){return S(e.target.value)},placeholder:"Enter Contact Here...",style:{padding:"8px",marginBottom:"8px",backgroundColor:"#fff",borderColor:"#74D1D8",width:"150%"}}),Object.keys(M).map((function(e){return(0,f.jsx)("div",{style:{color:"red"},children:M[e]})}))]})]}):(0,f.jsx)("div",{}),(0,f.jsxs)("p",{className:"font-quicksand-semi-bold",style:{fontSize:"12px"},children:["Team"," ",(0,f.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,f.jsx)("div",{className:"flex flex-nonwrap bg-white",children:(0,f.jsx)(l.Z,{value:F,readOnly:!0,style:{padding:"8px",marginBottom:"8px",backgroundColor:"#F5F8FC",borderColor:"#F5F8FC",width:"150%"}})}),Object.keys(A).map((function(e){return(0,f.jsx)("div",{style:{color:"red"},children:A[e]})}))]}),(0,f.jsxs)("div",{className:"bg-white p-4",children:[(0,f.jsxs)("p",{className:"font-quicksand-bold text-5xl",style:{fontSize:"12px"},children:["Car Recovery Reasons"," ",(0,f.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,f.jsxs)("div",{className:"col-12 py-3 px-4 bg-[#FFFFFF] mb-4",children:[(0,f.jsx)("h6",{className:"text-sm text-[#53565A]",children:"Status"}),(0,f.jsxs)(c.ZP.Group,{onChange:function(e){ke(e.target.value)},value:Ze,children:[(0,f.jsx)(c.ZP,{style:{color:"#9193A2"},value:"Pilot Escaped",children:"Pilot Escaped"}),(0,f.jsx)(c.ZP,{style:{color:"#9193A2"},value:"Outstanding Defaulter",children:"Outstanding Defaulter"}),(0,f.jsx)(c.ZP,{style:{color:"#9193A2"},value:"Performance Defaulter",children:"Performance Defaulter"}),(0,f.jsx)(c.ZP,{style:{color:"#9193A2"},value:"Low Performance",children:"Low Performance"}),(0,f.jsx)(c.ZP,{style:{color:"#9193A2"},value:"Outstanding/Defaulter",children:"Outstanding/Defaulter"}),(0,f.jsx)(c.ZP,{style:{color:"#9193A2"},value:"Driver Behavior Issue",children:"Driver Behavior Issue"}),(0,f.jsx)(c.ZP,{style:{color:"#9193A2"},value:"Vehicle Misuse",children:"Vehicle Misuse"})]})]})]}),(0,f.jsxs)("div",{className:"bg-white p-4",children:[(0,f.jsxs)("p",{className:"font-quicksand-bold text-5xl",style:{fontSize:"12px"},children:["Location of Recovery"," ",(0,f.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,f.jsxs)("div",{className:"flex flex-row flex-nonwrap bg-white",children:[(0,f.jsx)(v,{rows:4,placeholder:"Location Name",value:Fe,onChange:function(e){return Oe(e.target.value)},style:{padding:"8px",marginBottom:"8px",backgroundColor:"#fff",borderColor:"#74D1D8",width:"150%"}}),Object.keys(De).map((function(e){return(0,f.jsx)("div",{style:{color:"red"},children:De[e]})}))]})]}),(0,f.jsx)("div",{className:"col-12 flex flex-row justify-center",children:(0,f.jsx)(d.Z,{onClick:function(e){if(e.preventDefault(),function(){var e={},n={},r={},a={},o={},l=!0;return-1===Q?(""!==X.trim()&&"Enter Car Number Here..."!==X||(n.err="Please Select Car.",l=!1),G(n)):(t&&((w.trim().length<10||w.trim().length>10)&&(a.pinErr="Mobile Number should be of 10 digits only",l=!1),/^[0-9\b]+$/.test(w)||(a.pinErr="Only digits allowed",l=!1),0===w.trim().length&&(a.pinErr="This field can not be empty",l=!1),0===C.trim().length&&(e.pinErr="This field can not be empty",l=!1)),0===F.trim().length&&(r.pinErr="This field can not be empty",l=!1),0===Fe.trim().length&&(o.Err="This field can not be empty",l=!1),T(a),I(e),B(r),Ie(o)),l}()){var n={carId:Q,car_number:X,driverId:re,driver_name:C,drive_contact_number:w,driver_manager_name:F,driverManagerId:ie,is_with_driver:t,towing_required:!1,status:1,breakdown_recovery_location:Fe,recovery_reason:Ze,visit_category:8,employee_id:ue};-1===ge?(0,u.K7)(n).then((function(){i.Z.success({message:"Visit Added successfully"}),qe(),setTimeout((function(){window.scrollTo(0,0),window.location.reload()}),1e3)})).catch((function(e){i.Z.error({message:e.response.data.message}),qe()})):(0,u.LU)(ge,n).then((function(){i.Z.success({message:"Visit Edited successfully"}),qe()})).catch((function(e){console.log("err",e),qe()}))}},className:"font-quicksand-medium",style:{marginRight:"20px",borderRadius:"4px",fontWeight:"500",backgroundColor:"#013453",color:"#FFFFFF",fontSize:"16px",height:"52px",boxShadow:"0px 8px 16px #005B923D",textDecoration:"none",padding:"13px 30px"},children:"Submit and add to Queue"})})]})]})}},73231:function(e,n,t){t.d(n,{ZP:function(){return _}});var r=t(4942),a=t(87462),o=t(72791),l=t(28083),i=t(81694),s=t.n(i),c=t(88834),d=t(23785),u=o.createContext(null),f=u.Provider,v=u,p=t(14824),h=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},m=function(e,n){var t,i=o.useContext(v),u=o.useContext(d.E_),f=u.getPrefixCls,m=u.direction,x=o.useRef(),y=(0,c.sQ)(n,x);o.useEffect((function(){(0,p.Z)(!("optionType"in e),"Radio","`optionType` is only support in Radio.Group.")}),[]);var g=e.prefixCls,b=e.className,C=e.children,j=e.style,Z=h(e,["prefixCls","className","children","style"]),k=f("radio",g),w=(0,a.Z)({},Z);i&&(w.name=i.name,w.onChange=function(n){var t,r;null===(t=e.onChange)||void 0===t||t.call(e,n),null===(r=null===i||void 0===i?void 0:i.onChange)||void 0===r||r.call(i,n)},w.checked=e.value===i.value,w.disabled=e.disabled||i.disabled);var S=s()("".concat(k,"-wrapper"),(t={},(0,r.Z)(t,"".concat(k,"-wrapper-checked"),w.checked),(0,r.Z)(t,"".concat(k,"-wrapper-disabled"),w.disabled),(0,r.Z)(t,"".concat(k,"-wrapper-rtl"),"rtl"===m),t),b);return o.createElement("label",{className:S,style:j,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave},o.createElement(l.Z,(0,a.Z)({},w,{type:"radio",prefixCls:k,ref:y})),void 0!==C?o.createElement("span",null,C):null)},x=o.forwardRef(m);x.displayName="Radio";var y=x,g=t(29439),b=t(75179),C=t(1815);var j=o.forwardRef((function(e,n){var t=o.useContext(d.E_),l=t.getPrefixCls,i=t.direction,c=o.useContext(C.Z),u=(0,b.Z)(e.defaultValue,{value:e.value}),v=(0,g.Z)(u,2),p=v[0],h=v[1];return o.createElement(f,{value:{onChange:function(n){var t=p,r=n.target.value;"value"in e||h(r);var a=e.onChange;a&&r!==t&&a(n)},value:p,disabled:e.disabled,name:e.name}},function(){var t,d=e.prefixCls,u=e.className,f=void 0===u?"":u,v=e.options,h=e.optionType,m=e.buttonStyle,x=void 0===m?"outline":m,g=e.disabled,b=e.children,C=e.size,j=e.style,Z=e.id,k=e.onMouseEnter,w=e.onMouseLeave,S=l("radio",d),N="".concat(S,"-group"),_=b;if(v&&v.length>0){var F="button"===h?"".concat(S,"-button"):S;_=v.map((function(e){return"string"===typeof e?o.createElement(y,{key:e,prefixCls:F,disabled:g,value:e,checked:p===e},e):o.createElement(y,{key:"radio-group-value-options-".concat(e.value),prefixCls:F,disabled:e.disabled||g,value:e.value,checked:p===e.value,style:e.style},e.label)}))}var O=C||c,P=s()(N,"".concat(N,"-").concat(x),(t={},(0,r.Z)(t,"".concat(N,"-").concat(O),O),(0,r.Z)(t,"".concat(N,"-rtl"),"rtl"===i),t),f);return o.createElement("div",(0,a.Z)({},function(e){return Object.keys(e).reduce((function(n,t){return"data-"!==t.substr(0,5)&&"aria-"!==t.substr(0,5)&&"role"!==t||"data-__"===t.substr(0,7)||(n[t]=e[t]),n}),{})}(e),{className:P,style:j,onMouseEnter:k,onMouseLeave:w,id:Z,ref:n}),_)}())})),Z=o.memo(j),k=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t},w=function(e,n){var t=o.useContext(v),r=o.useContext(d.E_).getPrefixCls,l=e.prefixCls,i=k(e,["prefixCls"]),s=r("radio-button",l);return t&&(i.checked=e.value===t.value,i.disabled=e.disabled||t.disabled),o.createElement(y,(0,a.Z)({prefixCls:s},i,{type:"radio",ref:n}))},S=o.forwardRef(w),N=y;N.Button=S,N.Group=Z;var _=N},28083:function(e,n,t){var r=t(87462),a=t(4942),o=t(45987),l=t(1413),i=t(15671),s=t(43144),c=t(60136),d=t(27277),u=t(72791),f=t(81694),v=t.n(f),p=function(e){(0,c.Z)(t,e);var n=(0,d.Z)(t);function t(e){var r;(0,i.Z)(this,t),(r=n.call(this,e)).handleChange=function(e){var n=r.props,t=n.disabled,a=n.onChange;t||("checked"in r.props||r.setState({checked:e.target.checked}),a&&a({target:(0,l.Z)((0,l.Z)({},r.props),{},{checked:e.target.checked}),stopPropagation:function(){e.stopPropagation()},preventDefault:function(){e.preventDefault()},nativeEvent:e.nativeEvent}))},r.saveInput=function(e){r.input=e};var a="checked"in e?e.checked:e.defaultChecked;return r.state={checked:a},r}return(0,s.Z)(t,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"render",value:function(){var e,n=this.props,t=n.prefixCls,l=n.className,i=n.style,s=n.name,c=n.id,d=n.type,f=n.disabled,p=n.readOnly,h=n.tabIndex,m=n.onClick,x=n.onFocus,y=n.onBlur,g=n.onKeyDown,b=n.onKeyPress,C=n.onKeyUp,j=n.autoFocus,Z=n.value,k=n.required,w=(0,o.Z)(n,["prefixCls","className","style","name","id","type","disabled","readOnly","tabIndex","onClick","onFocus","onBlur","onKeyDown","onKeyPress","onKeyUp","autoFocus","value","required"]),S=Object.keys(w).reduce((function(e,n){return"aria-"!==n.substr(0,5)&&"data-"!==n.substr(0,5)&&"role"!==n||(e[n]=w[n]),e}),{}),N=this.state.checked,_=v()(t,l,(e={},(0,a.Z)(e,"".concat(t,"-checked"),N),(0,a.Z)(e,"".concat(t,"-disabled"),f),e));return u.createElement("span",{className:_,style:i},u.createElement("input",(0,r.Z)({name:s,id:c,type:d,required:k,readOnly:p,disabled:f,tabIndex:h,className:"".concat(t,"-input"),checked:!!N,onClick:m,onFocus:x,onBlur:y,onKeyUp:C,onKeyDown:g,onKeyPress:b,onChange:this.handleChange,autoFocus:j,ref:this.saveInput,value:Z},S)),u.createElement("span",{className:"".concat(t,"-inner")}))}}],[{key:"getDerivedStateFromProps",value:function(e,n){return"checked"in e?(0,l.Z)((0,l.Z)({},n),{},{checked:e.checked}):null}}]),t}(u.Component);p.defaultProps={prefixCls:"rc-checkbox",className:"",style:{},type:"checkbox",defaultChecked:!1,onFocus:function(){},onBlur:function(){},onChange:function(){},onKeyDown:function(){},onKeyPress:function(){},onKeyUp:function(){}},n.Z=p}}]);
//# sourceMappingURL=8486.a5347de1.chunk.js.map