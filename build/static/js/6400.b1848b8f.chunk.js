"use strict";(self.webpackChunkboiler_plate=self.webpackChunkboiler_plate||[]).push([[6400],{66400:function(e,r,a){a.r(r);var i=a(29439),t=a(54270),s=a(13085),n=a(87309),c=a(72791),o=a(70895),l=a(79271),d=a(88937),u=a(72426),m=a.n(u),x=a(80184);r.default=function(){var e,r,a=(0,l.k6)(),u=(0,d.K)(),g=u.cardObject,f=u.ResetContextValues,v=(0,c.useState)(""),p=(0,i.Z)(v,2),_=p[0],y=p[1],h=(0,c.useState)(""),k=(0,i.Z)(h,2),b=k[0],j=k[1],w=(0,c.useState)({}),N=(0,i.Z)(w,2),q=N[0],C=N[1],Z=(0,c.useState)(10),S=(0,i.Z)(Z,2),F=S[0],T=S[1],D=(0,c.useState)(0),I=(0,i.Z)(D,2),R=I[0],L=I[1],Q=(0,c.useState)(1),A=(0,i.Z)(Q,2),M=A[0],Y=A[1];(0,c.useEffect)((function(){var e,r=localStorage.getItem("garageid");y(r);var a=localStorage.getItem("locationid");j(a),L(null===g||void 0===g||null===(e=g.carId)||void 0===e?void 0:e.id)}),[]),(0,c.useEffect)((function(){0!==R&&(0,o.KR)(R).then((function(e){var r,a,i,t;console.log(null===e||void 0===e||null===(r=e.data[0])||void 0===r||null===(a=r.team)||void 0===a?void 0:a.revenue_type),Y(null===e||void 0===e||null===(i=e.data[0])||void 0===i||null===(t=i.team)||void 0===t?void 0:t.revenue_type)})).catch((function(e){console.log("err",e)}))}),[R]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(t.q,{title:"Dashboard"}),(0,x.jsxs)("div",{className:"flex flex-col space-y-2 mx-3",children:[(0,x.jsxs)("div",{className:"px-2 py-0 mb-3 mx-1 max-w-sm bg-white rounded-lg border shadow-md sm:p-6",children:[(0,x.jsxs)("div",{className:" my-2 flex items-center p-2 text-base font-bold text-gray-900 rounded-lg",style:{backgroundColor:"#f4fcfc"},children:[(0,x.jsx)("span",{className:"flex-1 ml-3 font-quicksand-bold text-xl whitespace-nowrap",children:g.car_number}),(0,x.jsx)("span",{className:" font-quicksand-semi-bold px-2 py-0.5 ml-3 text-xs text-gray-500 truncate",children:null===(e=g.carId)||void 0===e||null===(r=e.model)||void 0===r?void 0:r.name})]}),(0,x.jsx)("div",{className:" my-2 flex items-center p-2 text-base font-bold text-gray-900 rounded-lg",style:{backgroundColor:"#f4fcfc"},children:(0,x.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,x.jsxs)("p",{className:"text-sm font-quicksand-medium text-gray-900 truncate my-1",children:["Team:"," ",(0,x.jsx)("p",{className:"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1",children:g.driver_manager_name})]}),(0,x.jsxs)("p",{className:"text-sm font-quicksand-medium text-gray-900 truncate my-1",children:["Driver:"," ",(0,x.jsx)("p",{className:"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1",children:g.driver_name})]}),(0,x.jsxs)("p",{className:"text-sm font-quicksand-medium text-gray-900 truncate my-1",children:["Mobile:"," ",(0,x.jsx)("p",{className:"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1",children:g.drive_contact_number})]}),(0,x.jsxs)("p",{className:"text-sm font-quicksand-medium text-gray-900 truncate my-1",children:["In-Time:"," ",(0,x.jsx)("p",{className:"inline-flex text-sm font-quicksand-medium text-teal-300 truncate my-1",children:m()(g.createdAt).format("DD-MM-YYYY, h:mm:ss a")})]})]})})]}),(0,x.jsxs)("div",{className:"bg-white p-4",children:[(0,x.jsxs)("p",{className:"font-quicksand-bold text-5xl",style:{fontSize:"12px"},children:["Transfer To"," ",(0,x.jsx)("span",{style:{color:"red"},children:"*"})]}),(0,x.jsx)("div",{className:"flex flex-row flex-nonwrap",children:(0,x.jsx)(n.Z,{onClick:function(){return T(7)},className:"font-quicksand-medium",style:{marginTop:"10px",marginLeft:"10px",backgroundColor:7===F?"aqua":"white"},children:"Driver"})}),(0,x.jsxs)("div",{className:"flex flex-row flex-nonwrap",children:[4===g.visit_category?"":(0,x.jsx)(n.Z,{onClick:function(){return T(4)},className:"font-quicksand-medium",style:{marginTop:"10px",marginLeft:"10px",backgroundColor:4===F?"aqua":"white"},children:"Servicing"}),5===g.visit_category?"":(0,x.jsx)(n.Z,{onClick:function(){return T(5)},className:"font-quicksand-medium",style:{marginTop:"10px",marginLeft:"10px",backgroundColor:5===F?"aqua":"white"},children:"Repair"})]}),(0,x.jsxs)("div",{className:"flex flex-row flex-nonwrap",children:[1===M?1===g.visit_category?"":(0,x.jsx)(n.Z,{onClick:function(){return T(1)},className:"font-quicksand-medium",style:{marginTop:"10px",marginLeft:"10px",backgroundColor:1===F?"aqua":"white"},children:"Allotment(Jama Desk)"}):"",2===M?2===g.visit_category?"":(0,x.jsx)(n.Z,{onClick:function(){return T(2)},className:"font-quicksand-medium",style:{marginTop:"10px",marginLeft:"10px",backgroundColor:2===F?"aqua":"white"},children:"Allotment(Jama Desk)"}):""]}),Object.keys(q).map((function(e){return(0,x.jsx)("div",{style:{color:"red"},children:q[e]})}))]}),(0,x.jsxs)("div",{className:"col-12 flex flex-row justify-between my-3",children:[(0,x.jsx)(n.Z,{onClick:function(){f(),a.push("/completion/CarsQueue/".concat(g.visit_category))},className:"font-quicksand-medium",style:{marginRight:"20px",borderRadius:"4px",fontWeight:"500",backgroundColor:"#013453",color:"#FFFFFF",fontSize:"16px",width:"100px",height:"52px",boxShadow:"0px 8px 16px #005B923D",textDecoration:"none",padding:"13px 30px"},children:"Back"}),(0,x.jsx)(n.Z,{onClick:function(){if(function(){var e={},r=!0;return 10===F&&(e.err="Please select reason for visit",r=!1),C(e),r}())if(7===F||8===F){var e={status:F};6===g.visit_category||7===g.visit_category||8===g.visit_category?(0,o.LU)(g.id,e).then((function(e){s.Z.success({message:"Transferred successfully"}),a.push("/completion/CarsQueue/".concat(g.visit_category))})).catch((function(e){console.log("err",e)})):(0,o.b4)(g.id,e).then((function(e){s.Z.success({message:"Transferred successfully"}),a.push("/completion/CarsQueue/".concat(g.visit_category))})).catch((function(e){console.log("err",e)}))}else{var r="",i=!1;if(4===g.visit_category?1===F?r="service_sixty":2===F?r="service_leasing":3===F?r="service_regular":5===F&&(r="service_repair"):5===g.visit_category?1===F?r="repair_sixty":2===F?r="repair_leasing":3===F?r="repair_regular":4===F&&(r="repair_service"):1===g.visit_category?2===F?r="sixty_leasing":3===F?r="sixty_regular":4===F?r="sixty_service":5===F&&(r="sixty_repair"):2===g.visit_category?1===F?r="leasing_sixty":3===F?r="leasing_regular":4===F?r="leasing_service":5===F&&(r="leasing_repair"):3===g.visit_category?1===F?r="regular_sixty":2===F?r="regular_leasing":4===F?r="regular_service":5===F&&(r="regular_repair"):6===g.visit_category?(i=!0,1===F?r="breakdown_sixty":2===F?r="breakdown_leasing":3===F?r="breakdown_regular":4===F?r="breakdown_service":5===F&&(r="breakdown_repair")):7===g.visit_category?(i=!0,1===F?r="insurance_sixty":2===F?r="insurance_leasing":3===F?r="insurance_regular":4===F?r="insurance_service":5===F&&(r="insurance_repair")):8===g.visit_category&&(i=!0,1===F?r="car_recovery_sixty":2===F?r="car_recovery_leasing":3===F?r="car_recovery_regular":4===F?r="car_recovery_service":5===F&&(r="car_recovery_repair")),6===g.visit_category||7===g.visit_category||8===g.visit_category){var t,n=1;1!==F&&2!==F||(n=2),(0,o.f0)(F,null===(t=g.carId)||void 0===t?void 0:t.id,g.car_number,_,g.is_with_driver,g.driverId,g.driver_name,g.drive_contact_number,g.driverManagerId,g.driver_manager_name,b,g.employee_id,n).then((function(e){var t,n;console.log(i),console.log(e),(0,o.xt)(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t.results)||void 0===n?void 0:n.id,g.visit_category,F,r,i,g.id).then((function(e){s.Z.success({message:"Transferred successfully"}),a.push("/completion/CarsQueue/".concat(g.visit_category))})).catch((function(e){console.log("err",e)}))})).catch((function(e){console.log("err",e)}))}else s.Z.success({message:"Transferred successfully"}),a.push("/completion/CarsQueue/".concat(g.visit_category))}},className:"font-quicksand-medium",style:{marginRight:"20px",borderRadius:"4px",fontWeight:"500",backgroundColor:"#74d1d8",color:"#FFFFFF",fontSize:"16px",height:"52px",boxShadow:"0px 8px 16px #005B923D",textDecoration:"none",padding:"13px 25px"},children:"Accept"})]})]})]})}}}]);
//# sourceMappingURL=6400.b1848b8f.chunk.js.map